import React, { createContext, useContext, useEffect, useState } from "react";

type Lang = "en" | "fr" | "rw";

const translations: Record<Lang, Record<string, string>> = {
  en: {
    // About Section
    "about.title": "About MedFinder",
    "about.subtitle": "Making it easier for patients in Rwanda to access medicines",
    "about.1.title": "Locate Pharmacies",
    "about.1.desc": "Find nearby pharmacies quickly and easily.",
    "about.2.title": "Check Availability", 
    "about.2.desc": "See which pharmacies have the medicines you need in stock.",
    "about.3.title": "Order Online",
    "about.3.desc": "Request medicines online for convenient delivery.",

    "nav.home": "Home",
    "nav.about": "About",
    "nav.features": "Features",
    "nav.contact": "Contact",
    "nav.login": "Login",
    "nav.register": "Register",
    "hero.title": "Your Health, Our Priority",
    "hero.subtitle": "Find Your Medicine. Locate a Pharmacy. All in One Place.",
    "hero.description": "Struggling to find a nearby pharmacy that has your prescription in stock? Search for your specific medicine, and we'll show you which pharmacies have it available right now. Save time and get what you need, fast.",
    "features.title": "Everything You Need",
    "features.subtitle": "Powerful features for patients and pharmacies",
    "footer.quick_links": "Quick Links",
    "footer.about": "About Us",
    "footer.how": "How It Works",
    "footer.contact": "Contact",
    "footer.privacy": "Privacy Policy",
    "footer.terms": "Terms of Service",
    "footer.copy": "© 2025 PharmFinder. All rights reserved.",
    "auth.login.title": "Sign In",
    "auth.login.subtitle": "Sign in to your {app} account",
    "auth.login.email": "Email Address",
    "auth.login.password": "Password",
    "auth.login.placeholder.email": "your.email@example.com",
    "auth.login.placeholder.password": "Enter your password",
    "auth.login.submit": "Sign In",
    "auth.login.signing": "Signing in...",
    "auth.no_account": "Don't have an account?",
    "auth.signup": "Sign Up",

    "auth.register.title": "Create Account",
    "auth.register.subtitle": "Join {app} today",
    "auth.register.user_type": "I am a:",
    "auth.register.patient": "Patient",
    "auth.register.pharmacy": "Pharmacy",
    "auth.register.name.pharmacy": "Pharmacy Name",
    "auth.register.name.person": "Full Name",
    "auth.register.email": "Email Address",
    "auth.register.phone": "Phone Number",
    "auth.register.address": "Address",
    "auth.register.placeholder.name": "Your full name",
    "auth.register.placeholder.email": "your.email@example.com",
    "auth.register.placeholder.phone": "+250 XXX XXX XXX",
    "auth.register.placeholder.address": "Pharmacy location",
    "auth.register.password": "Password",
    "auth.register.confirm_password": "Confirm Password",
    "auth.register.password_mismatch": "Passwords do not match",
    "auth.register.placeholder.password": "Create a strong password",
    "auth.register.placeholder.confirm": "Confirm your password",
    "auth.register.create": "Create Account",
    "auth.register.creating": "Creating account...",
    "auth.register.already": "Already have an account?",
    "auth.register.signin": "Sign In",

    "error.title": "Error",
    "nav.logout": "Logout",
    "nav.settings": "Settings",
    "pharmacy.dashboard.title": "Pharmacy Dashboard",
    "patient.portal": "Patient Portal",
    "patient.account": "Patient Account",
    "feature.1.title": "Medicine Search",
    "feature.1.desc": "Search for any medicine and find pharmacies that have it in stock instantly",
    "feature.2.title": "Locate Nearby Pharmacies",
    "feature.2.desc": "Use your current location to find the nearest pharmacies on an interactive map",
    "feature.3.title": "Inventory Management",
    "feature.3.desc": "Pharmacies can manage their inventory with automated low-stock notifications",
    "feature.4.title": "Smart Notifications",
    "feature.4.desc": "Get alerts when medicine stock is running low or when new stock arrives",
    "feature.5.title": "Secure & Private",
    "feature.5.desc": "Your data is protected with enterprise-grade security and encryption",
    "feature.6.title": "Real-time Updates",
    "feature.6.desc": "Access up-to-date information on medicine availability and pharmacy hours",
    "footer.tagline": "Making healthcare accessible by connecting patients with pharmacies.",
    "search.promo": "Your Personal medicine tracker at a glance",
    "search.title": "Search a medicine?",
    "search.desc": "With PharmaTrack, patients and pharmacies manage everything in one place. Patients can search medicines, check nearby availability, and get directions easily.",
    "search.cta": "Search Medicine",
    "medicine_search.title": "Find Your Medicine",
    "medicine_search.subtitle": "Search for medicines and discover pharmacies that have them in stock",
    "medicine_search.placeholder": "Enter medicine name (e.g., Paracetamol, Aspirin, Ibuprofen...)",
    "medicine_search.searching": "Searching for medicines...",
    "medicine_search.search_button": "Search",
    "medicine_search.no_results_title": "No Results Found",
    "medicine_search.no_results_desc": "We couldn't find any pharmacies with \"{query}\" in stock. Try a different name or check the spelling.",
    "medicine_search.get_directions": "Get Directions",
    "medicine_search.contact_pharmacy": "Contact Pharmacy",
    "medicine_search.found_summary": "Found {count} medicine(s) available in {pharmacies} pharmacy(ies)",
    "pharmacy.side.overview": "Overview",
    "pharmacy.side.inventory": "Inventory",
    "pharmacy.side.orders": "Orders",
    "pharmacy.side.customers": "Customers",
    "pharmacy.side.reports": "Reports",
    "pharmacy.side.settings": "Settings",

    "modals.add_medicine.title": "Add Medicine",
    "modals.add_medicine.saving": "Saving...",
    "modals.add_medicine.save": "Add Medicine",
    "modals.add_medicine.name_label": "Medicine name",
    "modals.add_medicine.name_help": "Provide the full product name used on labels.",
    "modals.add_medicine.generic_help": "Optional — helps search by generic ingredient.",
    "modals.add_medicine.generic_label": "Generic name",
    "modals.add_medicine.manufacturer_label": "Manufacturer",
    "modals.add_medicine.category_label": "Category",
    "modals.add_medicine.dosage_label": "Dosage / Strength",
    "modals.add_medicine.unit_price_label": "Unit price (UGX / USD)",
    "modals.add_medicine.stock_quantity_label": "Stock quantity",
    "modals.add_medicine.minimum_stock_label": "Minimum stock (reorder level)",
    "modals.add_medicine.expiry_label": "Expiry date (optional)",
    "modals.add_medicine.description_label": "Short description (optional)",
    "validation.medicine_name_required": "Medicine name is required",
    "validation.enter_valid_price": "Enter a valid price (>= 0)",
    "validation.stock_cannot_negative": "Stock cannot be negative",
    "validation.minimum_stock_negative": "Minimum stock cannot be negative",
    "modals.add_medicine.price_help": "Enter numeric price per unit (use dot for decimals).",
    "modals.add_medicine.stock_help": "Current available units in stock.",
    "modals.add_medicine.minimum_help": "Notify when stock reaches this value.",
    "modals.add_medicine.expiry_help": "Leave blank for non-expiring items.",
    "modals.edit_medicine.title": "Edit Medicine",
    "modals.edit_medicine.save": "Save Changes",
    "modals.edit_medicine.saving": "Saving...",
    "modals.edit_medicine.close": "Close",
    "modals.edit_medicine.name_label": "Name",
    "modals.sell_medicine.title": "Sell Medicine",
    "modals.sell_medicine.submit": "Sell",
    "modals.sell_medicine.complete": "Complete Sale",
    "modals.sell_medicine.processing": "Processing...",
    "modals.sell_medicine.quantity_label": "Quantity to Sell",
    "modals.sell_medicine.customer_name": "Customer Name",
    "modals.sell_medicine.customer_phone": "Customer Phone",
    "modals.sell_medicine.prescription": "Prescription Details",
    "modals.sell_medicine.total_label": "Total Amount:",
    "modals.sell_medicine.total_calc": "{qty} unit(s) × ${price}",
    "modals.sell_medicine.dosage_label": "Dosage:",
    "modals.sell_medicine.manufacturer_label": "Manufacturer:",
    "modals.sell_medicine.category_label": "Category:",
    "modals.sell_medicine.available_stock": "Available Stock:",
    "modals.sell_medicine.units": "units",
    "modals.sell_medicine.price_label": "Price:",
    "modals.sell_medicine.per_unit": "per unit",
    "modals.sell_medicine.max_text": "Maximum: {max} units available • {remaining} remaining after sale",
    "modals.sell_medicine.placeholder.customer_name": "Enter customer full name",
    "modals.sell_medicine.placeholder.customer_phone": "Enter phone number (optional)",
    "modals.sell_medicine.placeholder.prescription": "Enter prescription details (optional)",

    "modals.nearby.title": "Nearby Pharmacies",
    "modals.nearby.failed": "Failed to load nearby pharmacies",
    "modals.nearby.close": "Close",
    "modals.nearby.radius_label": "Radius:",
    "modals.nearby.refresh": "Refresh",
    "modals.nearby.getting_location": "Getting your location...",
    "modals.nearby.searching": "Searching pharmacies within {km} km...",
    "modals.nearby.none_found": "No pharmacies found nearby.",
    "modals.nearby.open_maps": "Open in Maps",
    "modals.nearby.call": "Call",

    "modals.add_medicine.close": "Close",
    "actions.cancel": "Cancel",

    "patient.search.card": "Search Medicines",
    "patient.nearby.card": "Nearby Pharmacies",
    "patient.welcome.title": "Welcome!",
    "patient.welcome.subtitle": "Find medicines and locate nearby pharmacies with ease",
    "patient.how.title": "How It Works",
    "patient.how.search.title": "Search Medicine",
    "patient.how.search.desc": "Enter the name of the medicine you're looking for",
    "patient.how.find.title": "Find Pharmacies",
    "patient.how.find.desc": "View all nearby pharmacies that have your medicine",
    "patient.how.directions.title": "Get Directions",
    "patient.how.directions.desc": "Navigate to the pharmacy with one click",
    "patient.nearby.within": "Pharmacies within {km}km of your current location",
    "patient.nearby.finding_location": "Finding your location...",
    "patient.nearby.searching": "Searching for nearby pharmacies...",
    "patient.nearby.looking_within": "Looking within {km}km radius",
    "patient.nearby.unable_title": "Unable to find pharmacies",
    "patient.nearby.try_again": "Try Again",
    "patient.nearby.increase_radius": "Increase Search Radius",
    "patient.nearby.search_google_maps": "Search Google Maps",
    "patient.nearby.found_count": "Found {count} pharmacy(s) nearby",
    "patient.nearby.sorted_updated": "Sorted by distance • Updated just now",
    "patient.nearby.directions": "Directions",
    "patient.nearby.view_map": "View Map",
    "patient.nearby.phone_label": "Phone:",
    "patient.settings.title": "Account Settings",
    "patient.settings.subtitle": "Manage your account information and preferences",
    "patient.settings.profile_info": "Profile Information",
    "patient.settings.username": "Username",
    "patient.settings.email": "Email",
    "patient.settings.change_password": "Change Password",
    "patient.settings.current_password": "Current Password",
    "patient.settings.new_password": "New Password",
    "patient.settings.confirm_password": "Confirm New Password",
    "patient.settings.save_changes": "Save Changes",
    "patient.settings.profile_updated": "Profile updated successfully!",
    "patient.settings.password_changed": "Password changed successfully!",
    "patient.settings.password_mismatch": "Passwords do not match!",

    /* Settings: appearance / notifications */
    "settings.notifications.title": "Notification Preferences",
    "settings.appearance.title": "Appearance",
    "settings.appearance.label": "Theme",
    "settings.appearance.description": "Toggle light/dark theme for the site",
    "settings.appearance.light": "Light",
    "settings.appearance.dark": "Dark",

    "notfound.title": "Page not found",
    "notfound.message": "The page you're looking for doesn't exist or was moved.",
    "notfound.go_home": "Go to Home",
    "notfound.signin_search": "Sign in to search",
    "notfound.pharmacy_dashboard": "Pharmacy dashboard",
    "dashboard.overview.title": "Dashboard Overview",
    "dashboard.overview.subtitle": "Welcome back! Here's your pharmacy performance at a glance.",
    "dashboard.loading": "Loading dashboard...",
    "dashboard.error.title": "Error Loading Dashboard",
    "dashboard.no_data.title": "No Data Available",
    "dashboard.no_data.desc": "Start by making your first sale to see dashboard data",
    "actions.try_again": "Try Again",

    "dashboard.card.total_label": "Total",
    "dashboard.card.total_revenue": "Total Revenue",
    "dashboard.card.all_time": "All Time",
    "dashboard.card.total_sales": "Total Sales",
    "dashboard.card.today": "Today",
    "dashboard.card.today_sales": "Today's Sales",
    "dashboard.card.unique": "Unique",
    "dashboard.card.total_customers": "Total Customers",
    "dashboard.card.this_month": "This Month",
    "dashboard.card.monthly_revenue": "Monthly Revenue",
    "dashboard.card.average": "Average",
    "dashboard.card.avg_order_value": "Avg. Order Value",
    "dashboard.card.monthly_sales": "Monthly Sales",
    "dashboard.card.low_stock_attention": "Attention",

    "recent.sales.title": "Recent Sales",
    "recent.sales.empty": "No recent sales",
    "recent.customers.title": "Top Customers",
    "recent.customers.empty": "No customer data",

    "quick_actions.manage_inventory": "Manage Inventory",
    "quick_actions.view_customers": "View Customers",
    "quick_actions.sales_reports": "Sales Reports",
    "quick_actions.title": "Quick Actions",

    "low_stock.alert_title": "Low Stock Alert: {count} item(s) need attention",
    "low_stock.view_button": "View Low Stock Items",
    "dashboard.card.low_stock": "Low Stock Items",
    "dashboard.card.expired_items": "Expired Items",
    "dashboard.card.total_medicines": "Total Medicines",
    "dashboard.weekly_sales": "Weekly Sales",
    "dashboard.chart.sales": "Sales",
    "inventory.title": "Inventory",
    "inventory.subtitle": "Manage medicines, stock and prices",
    "inventory.search.placeholder": "Search medicine, generic or category...",
    "inventory.loading": "Loading...",
    "inventory.empty": "No medicines found.",
    "actions.add_medicine": "Add Medicine",
    "actions.add_short": "Add",
    "filter.low_stock": "Low stock",
    "actions.add_to_cart": "Add to Cart",
    "table.header.medicine": "Medicine",
    "table.header.category": "Category",
    "table.header.price": "Price",
    "table.header.stock": "Stock",
    "table.header.actions": "Actions",
    "actions.sell": "Sell",
    "sales.title": "Make a Sale",
    "sales.subtitle": "Process customer purchases",
    "sales.success": "Sale completed successfully!",
    "sales.search.placeholder": "Search medicines...",
    "sales.available.title": "Available Medicines",
    "sales.no_medicines": "No medicines found",
    "sales.add_to_cart": "Add to Cart",
    "sales.subtotal": "Subtotal:",
    "sales.cart.empty": "Cart is empty",
    "sales.customer_name": "Customer Name",
    "sales.customer_phone": "Phone (optional)",
    "sales.total": "Total",
    "sales.complete": "Complete Sale",
    "sales.processing": "Processing...",
    "sales.failed": "Failed to complete sale",
    "orders.title": "Orders Management",
    "orders.subtitle": "Track and manage all customer orders",
    "orders.filter.label": "Filter by status:",
    "orders.status.all": "All",
    "orders.status.pending": "Pending",
    "orders.status.completed": "Completed",
    "orders.status.cancelled": "Cancelled",
    "orders.loading": "Loading orders...",
    "orders.empty.title": "No Orders Found",
    "orders.empty.all": "No orders have been placed yet.",
    "orders.empty.filtered": "No {status} orders found.",
    "orders.table.order_id": "Order ID",
    "orders.table.customer": "Customer",
    "orders.table.phone": "Phone",
    "orders.table.total": "Total Amount",
    "orders.table.status": "Status",
    "orders.table.date": "Date",
    "orders.table.actions": "Actions",
    "orders.delete.confirm": "Are you sure you want to delete this order?",
    "orders.error.load": "Failed to load orders",
    "orders.error.update": "Failed to update order status",
    "orders.error.delete": "Failed to delete order",
    "auth.register.failed": "Registration failed. Please try again.",
    "auth.login.failed": "Invalid credentials. Please try again.",
    
    "patient.nearby.geolocation_unsupported": "Geolocation not supported by your browser. Please enable location services or use a different browser.",
    "patient.nearby.no_within": "No pharmacies found within {km}km of your location. Try increasing the search radius.",
    "patient.nearby.permission_denied": "Please allow location access in your browser settings to find nearby pharmacies.",
    "patient.nearby.request_timeout": "Location request timed out. Please check your connection and try again.",
    "patient.nearby.enable_services": "Please enable location services to find nearby pharmacies.",
    "patient.nearby.radius_label": "Search radius:",
    "inventory.delete.confirm": "Are you sure you want to delete '{name}'? This action cannot be undone.",
    "inventory.delete.failed": "Failed to delete: {msg}",
    "sales.only_x_available": "Only {count} units available",
    "sales.not_enough_stock": "Not enough stock available",
    "sales.enter_customer_name": "Please enter customer name",
    "aria.toggle_menu": "Toggle menu",
    "aria.change_language": "Change language",
    "aria.toggle_sidebar": "Toggle sidebar",
    "aria.open_sidebar": "Open sidebar",
    "alt.logo": "PharmaFinder logo",
    
    /* Customers */
    "customers.title": "Customers",
    "customers.subtitle": "Manage your customer relationships",
    "customers.total_label": "total customers",
    "customers.search.placeholder": "Search customers by name or phone...",
    "customers.no_found.title": "No customers found",
    "customers.no_found.try": "Try adjusting your search terms",
    "customers.no_data": "Customers will appear here after sales are made",
    "customers.sales_singular": "sale",
    "customers.sales_plural": "sales",
    "customers.total_purchases": "Total Purchases",
    "customers.total_spent": "Total Spent",
    "customers.last_purchase": "Last Purchase",
    "customers.customer_since": "Customer since",
    "customers.purchases_label": "items",

    /* Sales Report / Analytics */
    "sales.analytics.title": "Sales Analytics",
    "sales.analytics.subtitle": "Comprehensive sales reports and insights",
    "sales.period.daily": "Daily",
    "sales.period.weekly": "Weekly",
    "sales.period.monthly": "Monthly",
    "sales.summary.total_revenue": "Total Revenue",
    "sales.summary.monthly_revenue": "Monthly Revenue",
    "sales.summary.total_customers": "Total Customers",
    "sales.summary.avg_order": "Average Order",
    "sales.total_sales_label": "total sales",
    "table.header.date": "Date",
    "table.header.sales_count": "Sales Count",
    "table.header.revenue": "Revenue",
    "table.header.average_ticket": "Average Ticket",
    "sales.no_reports.title": "No sales data available",
    "sales.no_reports.desc": "Sales will appear here after transactions",
    "recent.transactions.title": "Recent Transactions",
    "recent.transactions.no_data": "No recent transactions",
  },
  fr: {
    // About Section
    "about.title": "À propos de MedFinder",
    "about.subtitle": "Faciliter l'accès aux médicaments pour les patients au Rwanda",
    "about.1.title": "Localiser les Pharmacies",
    "about.1.desc": "Trouvez rapidement et facilement les pharmacies à proximité.",
    "about.2.title": "Vérifier la Disponibilité",
    "about.2.desc": "Voyez quelles pharmacies ont les médicaments dont vous avez besoin en stock.",
    "about.3.title": "Commander en Ligne",
    "about.3.desc": "Demandez des médicaments en ligne pour une livraison pratique.",

    "nav.home": "Accueil",
    "nav.about": "À propos",
    "nav.features": "Fonctionnalités",
    "nav.contact": "Contact",
    "nav.login": "Connexion",
    "nav.register": "S'inscrire",
    "hero.title": "Votre santé, notre priorité",
    "hero.subtitle": "Trouvez vos médicaments. Localisez une pharmacie. Tout au même endroit.",
    "hero.description": "Vous avez du mal à trouver une pharmacie proche qui a votre ordonnance en stock ? Recherchez votre médicament spécifique, et nous vous montrerons quelles pharmacies l'ont disponible immédiatement. Gagnez du temps et obtenez ce dont vous avez besoin, rapidement.",
    "features.title": "Tout ce dont vous avez besoin",
    "features.subtitle": "Fonctionnalités puissantes pour les patients et les pharmacies",
    "footer.quick_links": "Liens rapides",
    "footer.about": "À propos de nous",
    "footer.how": "Comment ça marche",
    "footer.contact": "Contact",
    "footer.privacy": "Politique de confidentialité",
    "footer.terms": "Conditions d'utilisation",
    "footer.copy": "© 2025 PharmFinder. Tous droits réservés.",
    "auth.login.title": "Se connecter",
    "auth.login.subtitle": "Connectez-vous à votre compte {app}",
    "auth.login.email": "Adresse e-mail",
    "auth.login.password": "Mot de passe",
    "auth.login.placeholder.email": "votre.email@example.com",
    "auth.login.placeholder.password": "Entrez votre mot de passe",
    "auth.login.submit": "Se connecter",
    "auth.login.signing": "Connexion...",
    "auth.no_account": "Vous n'avez pas de compte ?",
    "auth.signup": "S'inscrire",

    "auth.register.title": "Créer un compte",
    "auth.register.subtitle": "Rejoignez {app} aujourd'hui",
    "auth.register.user_type": "Je suis :",
    "auth.register.patient": "Patient",
    "auth.register.pharmacy": "Pharmacie",
    "auth.register.name.pharmacy": "Nom de la pharmacie",
    "auth.register.name.person": "Nom complet",
    "auth.register.email": "Adresse e-mail",
    "auth.register.phone": "Numéro de téléphone",
    "auth.register.address": "Adresse",
    "auth.register.placeholder.name": "Votre nom complet",
    "auth.register.placeholder.email": "votre.email@example.com",
    "auth.register.placeholder.phone": "+250 XXX XXX XXX",
    "auth.register.placeholder.address": "Emplacement de la pharmacie",
    "auth.register.password": "Mot de passe",
    "auth.register.confirm_password": "Confirmer le mot de passe",
    "auth.register.password_mismatch": "Les mots de passe ne correspondent pas",
    "auth.register.placeholder.password": "Créez un mot de passe sécurisé",
    "auth.register.placeholder.confirm": "Confirmez votre mot de passe",
    "auth.register.create": "Créer un compte",
    "auth.register.creating": "Création du compte...",
    "auth.register.already": "Vous avez déjà un compte ?",
    "auth.register.signin": "Se connecter",

    "error.title": "Erreur",
    "nav.logout": "Se déconnecter",
    "nav.settings": "Paramètres",
    "pharmacy.dashboard.title": "Tableau de bord de la pharmacie",
    "patient.portal": "Portail patient",
    "patient.account": "Compte patient",
    "feature.1.title": "Recherche de médicaments",
    "feature.1.desc": "Recherchez n'importe quel médicament et trouvez les pharmacies qui l'ont en stock instantanément",
    "feature.2.title": "Localiser les pharmacies à proximité",
    "feature.2.desc": "Utilisez votre position actuelle pour trouver les pharmacies les plus proches sur une carte interactive",
    "feature.3.title": "Gestion des stocks",
    "feature.3.desc": "Les pharmacies peuvent gérer leurs stocks avec des notifications automatiques de faiblesse de stock",
    "feature.4.title": "Notifications intelligentes",
    "feature.4.desc": "Recevez des alertes lorsque le stock de médicaments est faible ou lorsqu'un nouveau stock arrive",
    "feature.5.title": "Sécurisé et privé",
    "feature.5.desc": "Vos données sont protégées par une sécurité et un chiffrement de niveau entreprise",
    "feature.6.title": "Mises à jour en temps réel",
    "feature.6.desc": "Accédez à des informations à jour sur la disponibilité des médicaments et les heures d'ouverture des pharmacies",
    "footer.tagline": "Rendre les soins de santé accessibles en connectant les patients aux pharmacies.",
    "search.promo": "Votre suivi personnel des médicaments en un coup d'œil",
    "search.title": "Rechercher un médicament ?",
    "search.desc": "Avec PharmaTrack, les patients et les pharmacies gèrent tout au même endroit. Les patients peuvent rechercher des médicaments, vérifier la disponibilité à proximité et obtenir des itinéraires facilement.",
    "search.cta": "Rechercher un médicament",
    "medicine_search.title": "Trouvez votre médicament",
    "medicine_search.subtitle": "Recherchez des médicaments et découvrez les pharmacies qui les ont en stock",
    "medicine_search.placeholder": "Entrez le nom du médicament (ex : Paracétamol, Aspirine, Ibuprofène...)",
    "medicine_search.searching": "Recherche de médicaments...",
    "medicine_search.search_button": "Rechercher",
    "medicine_search.no_results_title": "Aucun résultat trouvé",
    "medicine_search.no_results_desc": "Nous n'avons trouvé aucune pharmacie avec \"{query}\" en stock. Essayez un autre nom ou vérifiez l'orthographe.",
    "medicine_search.get_directions": "Obtenir l'itinéraire",
    "medicine_search.contact_pharmacy": "Contacter la pharmacie",
    "medicine_search.found_summary": "{count} médicament(s) trouvé(s) disponible(s) dans {pharmacies} pharmacie(s)",
    "pharmacy.side.overview": "Aperçu",
    "pharmacy.side.inventory": "Stock",
    "pharmacy.side.orders": "Commandes",
    "pharmacy.side.customers": "Clients",
    "pharmacy.side.reports": "Rapports",
    "pharmacy.side.settings": "Paramètres",

    "modals.add_medicine.title": "Ajouter un médicament",
    "modals.add_medicine.saving": "Enregistrement...",
    "modals.add_medicine.save": "Ajouter le médicament",
    "modals.add_medicine.name_label": "Nom du médicament",
    "modals.add_medicine.name_help": "Fournissez le nom complet du produit tel qu'il figure sur l'étiquette.",
    "modals.add_medicine.generic_help": "Optionnel — aide à la recherche par ingrédient générique.",
    "modals.add_medicine.generic_label": "Nom générique",
    "modals.add_medicine.manufacturer_label": "Fabricant",
    "modals.add_medicine.category_label": "Catégorie",
    "modals.add_medicine.dosage_label": "Dosage / Force",
    "modals.add_medicine.unit_price_label": "Prix unitaire (UGX / USD)",
    "modals.add_medicine.stock_quantity_label": "Quantité en stock",
    "modals.add_medicine.minimum_stock_label": "Stock minimum (seuil de réapprovisionnement)",
    "modals.add_medicine.expiry_label": "Date d'expiration (optionnelle)",
    "modals.add_medicine.description_label": "Courte description (optionnelle)",
    "validation.medicine_name_required": "Le nom du médicament est requis",
    "validation.enter_valid_price": "Entrez un prix valide (>= 0)",
    "validation.stock_cannot_negative": "Le stock ne peut pas être négatif",
    "validation.minimum_stock_negative": "Le stock minimum ne peut pas être négatif",
    "modals.add_medicine.price_help": "Entrez le prix numérique par unité (utilisez un point pour les décimales).",
    "modals.add_medicine.stock_help": "Unités disponibles actuellement en stock.",
    "modals.add_medicine.minimum_help": "Avertir lorsque le stock atteint cette valeur.",
    "modals.add_medicine.expiry_help": "Laisser vide pour les articles non périssables.",
    "modals.edit_medicine.title": "Modifier le médicament",
    "modals.edit_medicine.save": "Enregistrer les modifications",
    "modals.edit_medicine.saving": "Enregistrement...",
    "modals.edit_medicine.close": "Fermer",
    "modals.edit_medicine.name_label": "Nom",
    "modals.sell_medicine.title": "Vendre un médicament",
    "modals.sell_medicine.submit": "Vendre",
    "modals.sell_medicine.complete": "Finaliser la vente",
    "modals.sell_medicine.processing": "Traitement...",
    "modals.sell_medicine.quantity_label": "Quantité à vendre",
    "modals.sell_medicine.customer_name": "Nom du client",
    "modals.sell_medicine.customer_phone": "Téléphone du client",
    "modals.sell_medicine.prescription": "Détails de l'ordonnance",
    "modals.sell_medicine.total_label": "Montant total :",
    "modals.sell_medicine.total_calc": "{qty} unité(s) × ${price}",
    "modals.sell_medicine.dosage_label": "Dosage:",
    "modals.sell_medicine.manufacturer_label": "Fabricant:",
    "modals.sell_medicine.category_label": "Catégorie:",
    "modals.sell_medicine.available_stock": "Stock disponible :",
    "modals.sell_medicine.units": "unités",
    "modals.sell_medicine.price_label": "Prix :",
    "modals.sell_medicine.per_unit": "par unité",
    "modals.sell_medicine.max_text": "Maximum : {max} unités disponibles • {remaining} restant après la vente",
    "modals.sell_medicine.placeholder.customer_name": "Entrez le nom complet du client",
    "modals.sell_medicine.placeholder.customer_phone": "Entrez le numéro de téléphone (optionnel)",
    "modals.sell_medicine.placeholder.prescription": "Entrez les détails de l'ordonnance (optionnel)",

    "modals.nearby.title": "Pharmacies à proximité",
    "modals.nearby.failed": "Échec du chargement des pharmacies à proximité",
    "modals.nearby.close": "Fermer",
    "modals.nearby.radius_label": "Rayon :",
    "modals.nearby.refresh": "Actualiser",
    "modals.nearby.getting_location": "Obtention de votre position...",
    "modals.nearby.searching": "Recherche des pharmacies dans un rayon de {km} km...",
    "modals.nearby.none_found": "Aucune pharmacie trouvée à proximité.",
    "modals.nearby.open_maps": "Ouvrir dans Maps",
    "modals.nearby.call": "Appeler",

    "modals.add_medicine.close": "Fermer",
    "actions.cancel": "Annuler",

    "patient.search.card": "Rechercher des médicaments",
    "patient.nearby.card": "Pharmacies à proximité",
    "patient.welcome.title": "Bienvenue !",
    "patient.welcome.subtitle": "Trouvez des médicaments et localisez des pharmacies à proximité facilement",
    "patient.how.title": "Comment ça marche",
    "patient.how.search.title": "Rechercher un médicament",
    "patient.how.search.desc": "Entrez le nom du médicament que vous recherchez",
    "patient.how.find.title": "Trouver des pharmacies",
    "patient.how.find.desc": "Affichez toutes les pharmacies à proximité qui ont votre médicament",
    "patient.how.directions.title": "Obtenir l'itinéraire",
    "patient.how.directions.desc": "Accédez à la pharmacie en un clic",
    "patient.nearby.within": "Pharmacies dans un rayon de {km} km de votre position actuelle",
    "patient.nearby.finding_location": "Recherche de votre position...",
    "patient.nearby.searching": "Recherche des pharmacies à proximité...",
    "patient.nearby.looking_within": "Recherche dans un rayon de {km} km",
    "patient.nearby.unable_title": "Impossible de trouver des pharmacies",
    "patient.nearby.try_again": "Réessayer",
    "patient.nearby.increase_radius": "Augmenter le rayon de recherche",
    "patient.nearby.search_google_maps": "Rechercher dans Google Maps",
    "patient.nearby.found_count": "{count} pharmacie(s) trouvée(s) à proximité",
    "patient.nearby.sorted_updated": "Triées par distance • Mis à jour récemment",
    "patient.nearby.directions": "Itinéraire",
    "patient.nearby.view_map": "Voir la carte",
    "patient.nearby.phone_label": "Téléphone :",
    "patient.settings.title": "Paramètres du compte",
    "patient.settings.subtitle": "Gérez les informations et préférences de votre compte",
    "patient.settings.profile_info": "Informations du profil",
    "patient.settings.username": "Nom d'utilisateur",
    "patient.settings.email": "E-mail",
    "patient.settings.change_password": "Changer le mot de passe",
    "patient.settings.current_password": "Mot de passe actuel",
    "patient.settings.new_password": "Nouveau mot de passe",
    "patient.settings.confirm_password": "Confirmez le nouveau mot de passe",
    "patient.settings.save_changes": "Enregistrer les modifications",
    "patient.settings.profile_updated": "Profil mis à jour avec succès !",
    "patient.settings.password_changed": "Mot de passe modifié avec succès !",
    "patient.settings.password_mismatch": "Les mots de passe ne correspondent pas !",

    "notfound.title": "Page introuvable",
    "notfound.message": "La page que vous recherchez n'existe pas ou a été déplacée.",
    "notfound.go_home": "Aller à l'accueil",
    "notfound.signin_search": "Connectez-vous pour rechercher",
    "notfound.pharmacy_dashboard": "Tableau de bord de la pharmacie",
    "dashboard.overview.title": "Aperçu du tableau de bord",
    "dashboard.card.today_sales": "Ventes d'aujourd'hui",
    "dashboard.card.low_stock": "Articles en rupture de stock",
    "dashboard.card.expired_items": "Articles périmés",
    "dashboard.card.total_medicines": "Total des médicaments",
    "dashboard.weekly_sales": "Ventes hebdomadaires",
    "dashboard.chart.sales": "Ventes",
    "inventory.title": "Stock",
    "inventory.subtitle": "Gérez les médicaments, le stock et les prix",
    "inventory.search.placeholder": "Rechercher un médicament, générique ou catégorie...",
    "actions.add_medicine": "Ajouter le médicament",
    "actions.add_short": "Ajouter",
    "filter.low_stock": "Faible stock",
    "table.header.medicine": "Médicament",
    "table.header.category": "Catégorie",
    "table.header.price": "Prix",
    "table.header.stock": "Stock",
    "table.header.actions": "Actions",
    "actions.sell": "Vendre",
    "orders.title": "Gestion des commandes",
    "orders.subtitle": "Suivez et gérez toutes les commandes des clients",
    "orders.filter.label": "Filtrer par statut :",
    "orders.status.all": "Toutes",
    "orders.status.pending": "En attente",
    "orders.status.completed": "Terminées",
    "orders.status.cancelled": "Annulées",
    "orders.loading": "Chargement des commandes...",
    "orders.empty.title": "Aucune commande trouvée",
    "orders.empty.all": "Aucune commande n'a encore été passée.",
    "orders.empty.filtered": "Aucune commande {status} trouvée.",
    "orders.table.order_id": "ID de commande",
    "orders.table.customer": "Client",
    "orders.table.phone": "Téléphone",
    "orders.table.total": "Montant total",
    "orders.table.status": "Statut",
    "orders.table.date": "Date",
    "orders.table.actions": "Actions",
    "orders.delete.confirm": "Êtes-vous sûr de vouloir supprimer cette commande ?",
    "orders.error.load": "Échec du chargement des commandes",
    "orders.error.update": "Échec de la mise à jour du statut de la commande",
    "orders.error.delete": "Échec de la suppression de la commande",
    "auth.register.failed": "Échec de l'inscription. Veuillez réessayer.",
    "auth.login.failed": "Identifiants invalides. Veuillez réessayer.",
    "patient.nearby.geolocation_unsupported": "La géolocalisation n'est pas prise en charge par votre navigateur. Veuillez activer les services de localisation ou utiliser un autre navigateur.",
    "patient.nearby.no_within": "Aucune pharmacie trouvée dans un rayon de {km} km autour de votre position. Essayez d'augmenter le rayon de recherche.",
    "patient.nearby.permission_denied": "Veuillez autoriser l'accès à la localisation dans les paramètres de votre navigateur pour trouver des pharmacies à proximité.",
    "patient.nearby.request_timeout": "La demande de localisation a expiré. Veuillez vérifier votre connexion et réessayer.",
    "patient.nearby.enable_services": "Veuillez activer les services de localisation pour trouver des pharmacies à proximité.",
    "inventory.delete.confirm": "Êtes-vous sûr de vouloir supprimer '{name}' ? Cette action est irréversible.",
    "inventory.delete.failed": "Échec de la suppression : {msg}",
    "sales.only_x_available": "Seulement {count} unité(s) disponibles",
    "sales.not_enough_stock": "Stock insuffisant disponible",
    "sales.enter_customer_name": "Veuillez saisir le nom du client",
    "aria.toggle_menu": "Basculer le menu",
    "aria.change_language": "Changer de langue",
    "aria.toggle_sidebar": "Basculer la barre latérale",
    "aria.open_sidebar": "Ouvrir la barre latérale",
    "alt.logo": "Logo PharmFinder",
    
    /* Customers */
    "customers.title": "Clients",
    "customers.subtitle": "Gérez vos relations clients",
    "customers.total_label": "clients au total",
    "customers.search.placeholder": "Recherchez des clients par nom ou téléphone...",
    "customers.no_found.title": "Aucun client trouvé",
    "customers.no_found.try": "Essayez d'ajuster vos critères de recherche",
    "customers.no_data": "Les clients apparaîtront ici après les ventes",
    "customers.sales_singular": "vente",
    "customers.sales_plural": "ventes",
    "customers.total_purchases": "Achats totaux",
    "customers.total_spent": "Dépensé au total",
    "customers.last_purchase": "Dernier achat",
    "customers.customer_since": "Client depuis",
    "customers.purchases_label": "articles",

    /* Sales Report / Analytics */
    "sales.analytics.title": "Analytique des ventes",
    "sales.analytics.subtitle": "Rapports et insights complets des ventes",
    "sales.period.daily": "Quotidien",
    "sales.period.weekly": "Hebdomadaire",
    "sales.period.monthly": "Mensuel",
    "sales.summary.total_revenue": "Revenu total",
    "sales.summary.monthly_revenue": "Revenu mensuel",
    "sales.summary.total_customers": "Clients totaux",
    "sales.summary.avg_order": "Commande moyenne",
    "sales.total_sales_label": "ventes totales",
    "table.header.date": "Date",
    "table.header.sales_count": "Nombre de ventes",
    "table.header.revenue": "Revenu",
    "table.header.average_ticket": "Ticket moyen",
    "sales.no_reports.title": "Aucune donnée de vente disponible",
    "sales.no_reports.desc": "Les ventes apparaîtront ici après les transactions",
    "recent.transactions.title": "Transactions récentes",
    "recent.transactions.no_data": "Aucune transaction récente",
    "quick_actions.manage_inventory": "Gérer le stock",
    "quick_actions.view_customers": "Voir les clients",
    "quick_actions.sales_reports": "Rapports de ventes",
    "quick_actions.title": "Actions rapides",
    "low_stock.alert_title": "Alerte de faible stock : {count} article(s) nécessitent une attention",
    "low_stock.view_button": "Voir les articles en rupture de stock",
  },
  rw: {
    // About Section
    "about.title": "Byerekeye MedFinder",
    "about.subtitle": "Gufasha abarwayi mu Rwanda kugira ubworoherwo bwo kubona imiti",
    "about.1.title": "Shaka Amavuriro",
    "about.1.desc": "Shaka amavuriro hafi nawe byihuse kandi byoroshye.",
    "about.2.title": "Reba Imiti Ihari",
    "about.2.desc": "Reba amavuriro afite imiti ukeneye ari mu biganga.",
    "about.3.title": "Tegeka kuri Interineti",
    "about.3.desc": "Saba imiti kuri interineti kugirango ukirere kugerereho byoroshye.",

    "nav.home": "Ahabanza",
    "nav.about": "Ibyerekeye",
    "nav.features": "Ibiranga",
    "nav.contact": "Twandikire",
    "nav.login": "Injira",
    "nav.register": "Iyandikishe",
    "hero.title": "Ubuzima Bwawe, Ariho Intumbero Yacu",
    "hero.subtitle": "Shaka Ibijyana. Shakira Uduga Twepfo. Byose Ahanini.",
    "hero.description": "Ugoranye gushaka umuti, dufite umuti wawe!! Shakira umuti ushatse, tuzakwereka farumasi zifite uwo muti ndetse na farumasi zikwegereye .",
    "features.title": "Ibikenewe byose",
    "features.subtitle": "Imikorere ikomeye ku barwayi na farumasi",
    "footer.about": "Dutegere",
    "footer.how": "Uko bikora",
    "footer.contact": "Twandikire",
    "footer.privacy": "Politiki y'ubuzima bwite",
    "footer.terms": "Amabwiriza n'amategeko",
    "footer.copy": "© 2025 PharmFinder. Uburenganzira bwose burinzwe.",
    "aria.toggle_menu": "Hindura menu",
    "aria.change_language": "Hindura ururimi",
    "aria.toggle_sidebar": "Hindura urubuga rw'ibikoresho",
    "aria.open_sidebar": "Fungura urubuga rw'ibikoresho",
    "alt.logo": "Ikirango cya PharmFinder",
    
    /* Customers */
    "customers.title": "Abakiriya",
    "customers.subtitle": "Cunga umubano wawe n'abakiriya",
    "customers.total_label": "abakiriya bose",
    "customers.search.placeholder": "Shakisha abakiriya ukoresheje izina cyangwa telefone...",
    "customers.no_found.title": "Nta mukiriya wabonetse",
    "customers.no_found.try": "Gerageza guhindura amagambo ugerageza gushakisha",
    "customers.no_data": "Abakiriya bazagaragara hano nyuma yo kugurisha",
    "customers.sales_singular": "igurisha",
    "customers.sales_plural": "ibyagurishijwe",
    "customers.total_purchases": "Ibyaguzwe byose",
    "customers.total_spent": "Amafaranga yose yakoreshejwe",
    "customers.last_purchase": "Igurisha rya nyuma",
    "customers.customer_since": "Umukiriya kuva",
    "customers.purchases_label": "ibintu",

    /* Sales Report / Analytics */
    "sales.analytics.title": "Isesengura ry'ibigurishwa",
    "sales.analytics.subtitle": "Raporo n'ubusesenguzi bwuzuye bw'ibigurishwa",
    "sales.period.daily": "Buri munsi",
    "sales.period.weekly": "Buri cyumweru",
    "sales.period.monthly": "Buri kwezi",
    "sales.summary.total_revenue": "Amafaranga yose",
    "sales.summary.monthly_revenue": "Amafaranga y'ukwezi",
    "sales.summary.total_customers": "Abakiriya bose",
    "sales.summary.avg_order": "Agaciro k'itegeko ku rwego",
    "table.header.date": "Itariki",
    "table.header.sales_count": "Umubare w'ibigurishwa",
    "table.header.revenue": "Inyungu",
    "table.header.average_ticket": "Agaciro k'itike",
    
    /* Overview & Quick Actions (added translations) */
    "dashboard.overview.subtitle": "Mwagarutse! Dore uko farumasi yawe ihagaze muri rusange.",
    "dashboard.loading": "Kurimo gupakira dashboard...",
    "dashboard.error.title": "Ikosa mu gupakira dashboard",
    "dashboard.no_data.title": "Nta makuru aboneka",
    "dashboard.no_data.desc": "Tangira kugurisha kugira ngo ubone amakuru kuri dashboard",
    "actions.try_again": "Gerageza kongera",

    "dashboard.card.total_label": "Hose",
    "dashboard.card.total_revenue": "Amafaranga yose",
    "dashboard.card.all_time": "Kuva kera",
    "dashboard.card.total_sales": "Ibyagurishijwe byose",
    "dashboard.card.today": "Uyu munsi",
    "dashboard.card.today_sales": "Ibyagurishijwe uyu munsi",
    "dashboard.card.unique": "Byihariye",
    "dashboard.card.total_customers": "Abakiriya bose",
    "dashboard.card.this_month": "Uyu kwezi",
    "dashboard.card.monthly_revenue": "Amafaranga y'ukwezi",
    "dashboard.card.average": "Avarage",
    "dashboard.card.avg_order_value": "Agaciro k'itegeko ku buryo busanzwe",
    "dashboard.card.monthly_sales": "Ibyagurishijwe mu kwezi",
    "dashboard.card.low_stock_attention": "Itangazo",
    "dashboard.card.low_stock": "Ibicuruzwa bike mu bubiko",

    "recent.sales.title": "Ibyagurishijwe biheruka",
    "recent.sales.empty": "Nta byagurishijwe biheruka",
    "recent.customers.title": "Abakiriya beza",
    "recent.customers.empty": "Nta makuru y'abakiriya",

    "quick_actions.manage_inventory": "Cunga ububiko",
    "quick_actions.view_customers": "Reba abakiriya",
    "quick_actions.sales_reports": "Raporo z'ibigurishwa",
    "quick_actions.title": "Ibikorwa byihuse",

    "low_stock.alert_title": "Itangazo ry'ikiguzi gito: {count} bintu bisaba kwitabwaho",
    "low_stock.view_button": "Reba ibicuruzwa biri hasi",
    "sales.no_reports.title": "Nta makuru y'ibigurishwa",
    "sales.no_reports.desc": "Ibicuruzwa bizaza hano nyuma yo kugurisha",
    "recent.transactions.title": "Ibicuruzwa biheruka",
    "recent.transactions.no_data": "Nta bicuruzwa biheruka",
    "auth.login.title": "Injira",
    "auth.login.subtitle": "Injira ku rubuga rwa {app}",
    "auth.login.email": "Aderesi y'imeli",
    "auth.login.password": "Ijambo ry'ibanga",
    "auth.login.placeholder.email": "imeyiri.yawe@example.com",
    "auth.login.placeholder.password": "Injiza ijambo ry'ibanga",
    "auth.login.submit": "Injira",
    "auth.login.signing": "Kwinjira...",
    "auth.no_account": "Nta konti ufite?",
    "auth.signup": "Iyandikishe",

    "auth.register.title": "Kora konti",
    "auth.register.subtitle": "Injira muri {app} uyu munsi",
    "auth.register.user_type": "Ndi :",
    "auth.register.patient": "Umurwayi",
    "auth.register.pharmacy": "Farumasi",
    "auth.register.name.pharmacy": "Izina rya Farumasi",
    "auth.register.name.person": "Izina ryuzuye",
    "auth.register.email": "Aderesi y'imeli",
    "auth.register.phone": "Nimero ya telefone",
    "auth.register.address": "Aderesi",
    "auth.register.placeholder.name": "Izina ryawe ryuzuye",
    "auth.register.placeholder.email": "imeyiri.yawe@example.com",
    "auth.register.placeholder.phone": "+250 XXX XXX XXX",
    "auth.register.placeholder.address": "Aho farumasi iherereye",
    "auth.register.password": "Ijambo ry'ibanga",
    "auth.register.confirm_password": "Emeza ijambo ry'ibanga",
    "auth.register.password_mismatch": "Amajambo y'ibanga ntahuje",
    "auth.register.placeholder.password": "Shyiraho ijambo ry'ibanga rikomeye",
    "auth.register.placeholder.confirm": "Emeza ijambo ry'ibanga",
    "auth.register.create": "Kora konti",
    "auth.register.creating": "Kuriha konti...",
    "auth.register.already": "Usanzwe ufite konti?",
    "auth.register.signin": "Injira",

    "error.title": "Ikosa",
    "nav.logout": "Sohoka",
    "nav.settings": "Igenamiterere",
    "pharmacy.dashboard.title": "Icyerekezo cya Farumasi",
    "patient.portal": "Urubuga rw'abarwayi",
    "patient.account": "Konti y'umurwayi",
    "feature.1.title": "Gushakisha imiti",
    "feature.1.desc": "Shakisha imiti yose kandi ubone farumasi zifite ububiko ako kanya",
    "feature.2.title": "Kubarisha farumasi hafi",
    "feature.2.desc": "Koresha aho uri kugirango ubone farumasi ziri hafi ukoresheje ikarita",
    "feature.3.title": "Imicungire y'ububiko",
    "feature.3.desc": "Furumasi zirashobora gucunga ububiko bwazo hamwe na notifikasi zimenyesha igihe ibitagikoze",
    "feature.4.title": "Amakuru y'ubwenge",
    "feature.4.desc": "Haboneka amatangazo igihe imiti iri kugabanuka cyangwa umuryango w'ububiko mushya ugeze",
    "feature.5.title": "Byizewe & Bihariye",
    "feature.5.desc": "Amakuru yawe arinzwe hakoreshejwe uburinzi buhanitse n'ukworohereza",
    "feature.6.title": "Amakuru y'igihe nyacyo",
    "feature.6.desc": "Gerageza kubona amakuru agezweho ku biboneka by'imiti n'amasaha ya farumasi",
    "footer.tagline": "Guhindura ubuvuzi buboneka buri wese binyuze mu guhuza abarwayi na farumasi.",
    "search.promo": "Ikarita yanjye y'ubuvuzi mu gihe gito",
    "search.title": "Shakisha umuti?",
    "search.desc": "N'ibindi byose mu kimwe: abarwayi na farumasi bashobora gushakisha imiti, kureba ahari hafi no kubona uburyo.",
    "search.cta": "Shakisha imiti",
    "medicine_search.title": "Shakisha umuti",
    "medicine_search.subtitle": "Shakisha imiti urebe farumasi zifite ibiri mu bubiko",
    "medicine_search.placeholder": "Injiza izina ry'umuti (nko Paracetamol, Aspirine, Ibuprofene...)",
    "medicine_search.searching": "Kurondera imiti...",
    "medicine_search.search_button": "Shakisha",
    "medicine_search.no_results_title": "Nta bisubizo",
    "medicine_search.no_results_desc": "Ntabwo twabonye farumasi ifite \"{query}\" mu bubiko. Gerageza izina ritandukanye cyangwa wikosore inyuguti.",
    "medicine_search.get_directions": "Fata inzira",
    "medicine_search.contact_pharmacy": "Hamamagara farumasi",
    "medicine_search.found_summary": "Habonetse imiti {count} mu farumasi {pharmacies}",
    "pharmacy.side.overview": "Iby'ingenzi",
    "pharmacy.side.inventory": "Ububiko",
    "pharmacy.side.orders": "Amabwiriza",
    "pharmacy.side.customers": "Abakiriya",
    "pharmacy.side.reports": "Raporo",
    "pharmacy.side.settings": "Igenamiterere",

    "modals.add_medicine.title": "Ongeramo umuti",
    "modals.add_medicine.saving": "Birimo kuzigama...",
    "modals.add_medicine.save": "Ongeramo umuti",
    "modals.add_medicine.name_label": "Izina ry'umuti",
    "modals.add_medicine.name_help": "Tanga izina ryuzuye ry'igicuruzwa nk'uko ryanditse ku bipfunyika.",
    "modals.add_medicine.generic_help": "Birashoboka — bifasha gushakisha hakoreshejwe izina rusange.",
    "modals.add_medicine.generic_label": "Izina rusange",
    "modals.add_medicine.manufacturer_label": "Uwakoze",
    "modals.add_medicine.category_label": "Icyiciro",
    "modals.add_medicine.dosage_label": "Dose / Imbaraga",
    "modals.add_medicine.unit_price_label": "Igiciro ku kintu (UGX / USD)",
    "modals.add_medicine.stock_quantity_label": "Umubare uri mu bubiko",
    "modals.add_medicine.minimum_stock_label": "Ububiko bwibanze (urwego rwo kongera)",
    "modals.add_medicine.expiry_label": "Itariki yo gutakaza agaciro (ubwo ari ubusa)",
    "modals.add_medicine.description_label": "Ibisobanuro bigufi (buhari)",
    "validation.medicine_name_required": "Izina ry'umuti rirakenewe",
    "validation.enter_valid_price": "Injiza igiciro gikwiye (>= 0)",
    "validation.stock_cannot_negative": "Ububiko ntibushobora kuba hasi ya zero",
    "validation.minimum_stock_negative": "Ububiko bwibanze ntibushobora kuba hasi ya zero",
    "modals.add_medicine.price_help": "Shyiramo igiciro ku kintu kimwe (koresha akaboko k'inyuguti ka dot ku mibare y'ibice).",
    "modals.add_medicine.stock_help": "Umubare w'ibintu bihari mu bubiko ubu.",
    "modals.add_medicine.minimum_help": "Menyesha igihe ububiko bugera kuri iyi ngero.",
    "modals.add_medicine.expiry_help": "Siga ubusa ku bicuruzwa bidashaje.",
    "modals.edit_medicine.title": "Hindura umuti",
    "modals.edit_medicine.save": "Bika impinduka",
    "modals.edit_medicine.saving": "Birimo kuzigama...",
    "modals.edit_medicine.close": "Funga",
    "modals.edit_medicine.name_label": "Izina",
    "modals.sell_medicine.title": "Gurisha umuti",
    "modals.sell_medicine.submit": "Gurisha",
    "modals.sell_medicine.complete": "Kurangiza kugurisha",
    "modals.sell_medicine.processing": "Birimo gutunganywa...",
    "modals.sell_medicine.quantity_label": "Umubare wo kugurisha",
    "modals.sell_medicine.customer_name": "Izina ry'umukiriya",
    "modals.sell_medicine.customer_phone": "Telefoni y'umukiriya",
    "modals.sell_medicine.prescription": "Ibisobanuro by'ikiruhuko",
    "modals.sell_medicine.total_label": "Ingano yose:",
    "modals.sell_medicine.total_calc": "{qty} ibice × ${price}",
    "modals.sell_medicine.dosage_label": "Dose:",
    "modals.sell_medicine.manufacturer_label": "Uko byakozwe:",
    "modals.sell_medicine.category_label": "Icyiciro:",
    "modals.sell_medicine.available_stock": "Ububiko buboneka:",
    "modals.sell_medicine.units": "ibice",
    "modals.sell_medicine.price_label": "Igiciro:",
    "modals.sell_medicine.per_unit": "ku kintu",
    "modals.sell_medicine.max_text": "Igenge: {max} ibice biboneka • {remaining} bisigaye nyuma yo kugurisha",
    "modals.sell_medicine.placeholder.customer_name": "Andika izina ryuzuye ry'umukiriya",
    "modals.sell_medicine.placeholder.customer_phone": "Andika nimero ya telefone (buhari)",
    "modals.sell_medicine.placeholder.prescription": "Andika ibisobanuro by'ubuganga (buhari)",

    "modals.nearby.title": "Amavuriro hafi",
    "modals.nearby.failed": "Ntibyatindijwe kubona farumasi zihari hafi",
    "modals.nearby.close": "Funga",
    "modals.nearby.radius_label": "Radius:",
    "modals.nearby.refresh": "Sibura",
    "modals.nearby.getting_location": "Guhabwa aho uri...",
    "modals.nearby.searching": "Kurondera farumasi muri {km} km...",
    "modals.nearby.none_found": "Nta farumasi zabonetse hafi.",
    "modals.nearby.open_maps": "Fungura muri Maps",
    "modals.nearby.call": "Hamamagara",

    "modals.add_medicine.close": "Funga",
    "actions.cancel": "Hagarika",

    "patient.search.card": "Shakisha imiti",
    "patient.nearby.card": "Farumasi hafi",
    "patient.welcome.title": "Murakaza neza!",
    "patient.welcome.subtitle": "Shakisha imiti kandi ubone farumasi hafi yawe byoroshye",
    "patient.how.title": "Uko bikora",
    "patient.how.search.title": "Shakisha umuti",
    "patient.how.search.desc": "Injiza izina ry'umuti urimo gushakisha",
    "patient.how.find.title": "Shaka farumasi",
    "patient.how.find.desc": "Reba farumasi zose ziri hafi zifite umuti wawe",
    "patient.how.directions.title": "Fata inzira",
    "patient.how.directions.desc": "Jya aho farumasi iri rimwe gusa",
    "patient.nearby.within": "Farumasi ziri mu ntera ya {km}km uvuye aho uri",
    "patient.nearby.finding_location": "Kurondera aho uri...",
    "patient.nearby.searching": "Kurondera farumasi hafi...",
    "patient.nearby.looking_within": "Kureba muri radius ya {km}km",
    "patient.nearby.unable_title": "Ntibashoboye kubona farumasi",
    "patient.nearby.try_again": "Gerageza none",
    "patient.nearby.increase_radius": "Ongera intera y'ubushakashatsi",
    "patient.nearby.search_google_maps": "Shaka muri Google Maps",
    "patient.nearby.found_count": "Habonetse farumasi {count} ziri hafi",
    "patient.nearby.sorted_updated": "Ziteguwe hakurikijwe intera • Zashyizweho ubu",
    "patient.nearby.directions": "Inzira",
    "patient.nearby.view_map": "Reba ako kanya kuri karita",
    "patient.nearby.phone_label": "Telefoni:",
    "patient.settings.title": "Igenamiterere rya konti",
    "patient.settings.subtitle": "Cunga amakuru ya konte yawe n'ibyo ukunda",
    "patient.settings.profile_info": "Amakuru y'umutwe w'umwirondoro",
    "patient.settings.username": "Izina ukoresha",
    "patient.settings.email": "Imeli",
    "patient.settings.change_password": "Hindura ijambo ry'ibanga",
    "patient.settings.current_password": "Ijambo ry'ibanga ririho",
    "patient.settings.new_password": "Ijambo ry'ibanga rishya",
    "patient.settings.confirm_password": "Emeza ijambo ry'ibanga rishya",
    "patient.settings.save_changes": "Bika impinduka",
    "patient.settings.profile_updated": "Umwirondoro wavuguruwe neza!",
    "patient.settings.password_changed": "Ijambo ry'ibanga ryahindutse!",
    "patient.settings.password_mismatch": "Amajambo y'ibanga ntahuje!",

    "notfound.title": "Urupapuro ntirubonetse",
    "notfound.message": "Urupapuro urimo gushakisha ntirubaho cyangwa rwimuriwe ahandi.",
    "notfound.go_home": "Gana urupapuro rwa mbere",
    "notfound.signin_search": "Injira kugirango ushake",
    "notfound.pharmacy_dashboard": "Icyerekezo cya farumasi",
    "dashboard.overview.title": "Icyerekezo cy'urubuga",
    
    "dashboard.card.expired_items": "Ibicuruzwa byarengeje igihe",
    "dashboard.card.total_medicines": "Umubare w'imiti yose",
    "dashboard.weekly_sales": "Ibyagurishijwe mu cyumweru",
    "dashboard.chart.sales": "Ibyagurishijwe",
    "inventory.title": "Ububiko",
    "inventory.subtitle": "Cunga imiti, ububiko n'ibiciro",
    "inventory.search.placeholder": "Shakisha umuti, izina rusange cyangwa icyiciro...",
    "actions.add_medicine": "Ongeramo umuti",
    "actions.add_short": "Ongeramo",
    "filter.low_stock": "Ububiko buri hasi",
    "table.header.medicine": "Umuti",
    "table.header.category": "Icyiciro",
    "table.header.price": "Igiciro",
    "table.header.stock": "Ububiko",
    "table.header.actions": "Ibyo gukora",
    "actions.sell": "Gurisha",
    "orders.title": "Imirimo y'ibyaguzwe",
    "orders.subtitle": "Kurikirana no gucunga ibyatangajwe n'abakiriya",
    "orders.filter.label": "Saba uko biteye:",
    "orders.status.all": "Zose",
    "orders.status.pending": "Bitegereje",
    "orders.status.completed": "Byarangiye",
    "orders.status.cancelled": "Byasubitswe",
    "orders.loading": "Kuriha amabwiriza...",
    "orders.empty.title": "Nta mabwiriza yabonetse",
    "orders.empty.all": "Nta mabwiriza yagezweho kugeza ubu.",
    "orders.empty.filtered": "Nta mabwiriza {status} yabonetse.",
    "orders.table.order_id": "ID y'itegeko",
    "orders.table.customer": "Umukiriya",
    "orders.table.phone": "Telefoni",
    "orders.table.total": "Ingano yose",
    "orders.table.status": "Imiterere",
    "orders.table.date": "Itariki",
    "orders.table.actions": "Ibikorwa",
    "orders.delete.confirm": "Uriyemeje gusiba iri tegeko?",
    "orders.error.load": "Ntibyashobotse kubona amabwiriza",
    "orders.error.update": "Ntibyashobotse kuvugurura imiterere y'itegeko",
    "orders.error.delete": "Ntibyashobotse gusiba itegeko",
    "auth.register.failed": "Iyandikishwa ryanze. Gerageza kongera.",
    "auth.login.failed": "Ibyangombwa si byo. Gerageza kongera.",
    "patient.nearby.geolocation_unsupported": "Geolocation ntabwo ishyigikiwe muri uyu mucunga. Nyamuneka shyiramo serivisi za localisation cyangwa ukoreshe undi mucunga.",
    "patient.nearby.no_within": "Nta farumasi yabonetse mu ntera ya {km}km uvuye aho uri. Gerageza kongera intera y'ubushakashatsi.",
    "patient.nearby.permission_denied": "Nyamuneka emera uburenganzira bwo gukoresha aho uri muri browser yawe kugirango ubone farumasi hafi.",
    "patient.nearby.request_timeout": "Icyifuzo cyo kubona aho uri cyarenze igihe. Nyamuneka reba umurongo w'itumanaho maze wongere ugerageze.",
    "patient.nearby.enable_services": "Nyamuneka shyiraho serivisi z'aho uri kugirango ubone farumasi hafi.",
    "inventory.delete.confirm": "Urashaka koko gusiba '{name}'? Ibi ntibishobora gusubizwa inyuma.",
    "inventory.delete.failed": "Ntibyashobotse gusiba: {msg}",
    "sales.only_x_available": "Hari {count} gusa biboneka",
    "sales.not_enough_stock": "Nta bubiko buhagije",
    "sales.enter_customer_name": "Nyamuneka shyiramo izina ry'umukiriya",
  }
};

interface I18nContextValue {
  lang: Lang;
  setLang: (l: Lang) => void;
  t: (key: string) => string;
}

const I18nContext = createContext<I18nContextValue | undefined>(undefined);

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [lang, setLangState] = useState<Lang>(() => {
    const saved = (localStorage.getItem('pharmatrack_lang') as Lang) || 'en';
    return saved;
  });

  useEffect(() => {
    try {
      localStorage.setItem('pharmatrack_lang', lang);
    } catch (e) {
      // ignore localStorage errors in some environments
    }
  }, [lang]);

  const setLang = (l: Lang) => setLangState(l);

  const t = (key: string) => {
    return translations[lang][key] ?? translations['en'][key] ?? key;
  };

  return <I18nContext.Provider value={{ lang, setLang, t }}>{children}</I18nContext.Provider>;
};

export const useTranslation = () => {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error('useTranslation must be used within I18nProvider');
  return ctx;
};

export type { Lang };